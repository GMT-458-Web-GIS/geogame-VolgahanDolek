<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Geo-Guessing Game</title>

    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" />
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #3B3BFF, #86A8E7, #5FFBF1);
            color: white;
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
        }
        
        header {
            text-align: center;
            padding: 20px;
            margin-bottom: 20px;
        }
        
        h1 {
            font-size: 2.8rem;
            margin-bottom: 10px;
        }
    </style>
    
</head>
<body>
    <div class="container">
        <header>
            <h1>üåç Geo Guessing Game</h1>
            <p class="subtitle">Test your geography knowledge.</p>
        </header>
        
        <div class="game-container">
            <div class="map-container">
                <div id="map"></div>
            </div>
            
            <div class="game-panel">
                <!-- Game controls -->
            </div>
        </div>
    </div>

    <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
    <script>

// Game configuration
const gameConfig = {
            currentRound: 1,
            totalRounds: 5,
            score: 0,
            currentLocation: null,
            userGuess: null,
            difficulty: 'medium',
            locations: {
                easy: [
                    { name: "Eiffel Tower", lat: 48.8584, lng: 2.2945, hint: "Iconic Parisian landmark" },
                    { name: "Statue of Liberty", lat: 40.6892, lng: -74.0445, hint: "Gift from France to the USA" },
                    { name: "Sydney Opera House", lat: -33.8568, lng: 151.2153, hint: "Famous performing arts venue in Australia" },
                    { name: "Colosseum", lat: 41.8902, lng: 12.4922, hint: "Ancient amphitheater in Rome" },
                    { name: "Taj Mahal", lat: 27.1750, lng: 78.0419, hint: "White marble mausoleum in India" }
                ],
                medium: [
                    { name: "Machu Picchu", lat: -13.1631, lng: -72.5450, hint: "Ancient Incan city in Peru" },
                    { name: "Christ the Redeemer", lat: -22.9519, lng: -43.2105, hint: "Large statue in Rio de Janeiro" },
                    { name: "Petra", lat: 30.3285, lng: 35.4444, hint: "Historical city carved into rock in Jordan" },
                    { name: "Great Wall of China", lat: 40.4319, lng: 116.5704, hint: "Long wall in northern China" },
                    { name: "Angkor Wat", lat: 13.4125, lng: 103.8670, hint: "Temple complex in Cambodia" }
                ],
                hard: [
                    { name: "Sagrada Familia", lat: 41.4036, lng: 2.1744, hint: "Unfinished basilica in Barcelona" },
                    { name: "Neuschwanstein Castle", lat: 47.5576, lng: 10.7498, hint: "Fairytale castle in Germany" },
                    { name: "Plitvice Lakes", lat: 44.8654, lng: 15.5820, hint: "National park with cascading lakes in Croatia" },
                    { name: "Salar de Uyuni", lat: -20.1338, lng: -67.4891, hint: "World's largest salt flat in Bolivia" },
                    { name: "Sossusvlei", lat: -24.7369, lng: 15.2906, hint: "Salt and clay pan in Namibia" }
                ]
            }
        };

        // Initializing the map
            const map = L.map('map').setView([20, 0], 2);

        // Adding tile layer
        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
            attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
        }).addTo(map);

        // Start a new round
function startNewRound() {
    // Reset round state
    gameConfig.userGuess = null;
    
    // Clear markers from previous round
    if (marker) map.removeLayer(marker);
    if (targetMarker) map.removeLayer(targetMarker);
    
    // Select a random location
    const locations = gameConfig.locations[gameConfig.difficulty];
    const randomIndex = Math.floor(Math.random() * locations.length);
    gameConfig.currentLocation = locations[randomIndex];
    
    // Update UI
    questionElement.textContent = `Where is ${gameConfig.currentLocation.name}?`;
}

// Place marker on map for user's guess
function placeMarker(latlng) {
    if (marker) map.removeLayer(marker);
    
    marker = L.marker(latlng).addTo(map)
        .bindPopup('Your guess')
        .openPopup();
    
    gameConfig.userGuess = latlng;
}

// Check the user's guess
function checkGuess() {
    if (gameConfig.userGuess === null) return;
    
    const distance = calculateDistance(
        gameConfig.currentLocation.lat, 
        gameConfig.currentLocation.lng,
        gameConfig.userGuess.lat, 
        gameConfig.userGuess.lng
    );
    
    // Calculate score based on distance
    let points = calculateScore(distance);
    
    // Update score and show result
    gameConfig.score += points;
    updateScoreDisplay();
    showResult(distance, points);
}

// Calculate distance between two coordinates
function calculateDistance(lat1, lon1, lat2, lon2) {
    const R = 6371; // Earth's radius in km
    const dLat = (lat2 - lat1) * Math.PI / 180;
    const dLon = (lon2 - lon1) * Math.PI / 180;
    const a = 
        Math.sin(dLat/2) * Math.sin(dLat/2) +
        Math.cos(lat1 * Math.PI / 180) * Math.cos(lat2 * Math.PI / 180) * 
        Math.sin(dLon/2) * Math.sin(dLon/2);
    const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1-a));
    return R * c;
}

// Initialize game
function initGame() {
    updateScoreDisplay();
    startNewRound();
    
    // Set up all event listeners
    setupEventListeners();
}

// Start the game when page loads
window.onload = initGame;

// Add click event to map
map.on('click', function(e) {
    if (gameConfig.userGuess === null) {
        placeMarker(e.latlng);
        guessButton.disabled = false;
    }
});

// Add event listeners to buttons
guessButton.addEventListener('click', checkGuess);
nextButton.addEventListener('click', startNewRound);
hintButton.addEventListener('click', showHint);

// Add event listeners to difficulty buttons
difficultyButtons.forEach(button => {
    button.addEventListener('click', function() {
        const difficulty = this.getAttribute('data-difficulty');
        setDifficulty(difficulty);
    });
});

    </script>
</body>
</html>